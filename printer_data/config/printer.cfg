
[include fluidd.cfg]
#[include mainsail.cfg]

[mcu]
canbus_uuid: 957a7862b4ec
canbus_interface:can0

[mcu EBBCan]
#canbus_uuid: 3ccab897b448 
canbus_uuid: 163f88a79553

[printer]
kinematics: corexy           # Printer typeï¼šcorexy
max_velocity: 300            # Maximum speed (max. 300)
max_accel: 5000              # Maximum acceleration (max. 4000)
#max_accel_to_decel: 5000    # Maximum acceleration to deceleration (max. 4000) Deprecated
minimum_cruise_ratio: .5     # New parameter
max_z_velocity: 15           # Z-axis maximum speed
max_z_accel: 350             # Z-axis maximum acceleration
square_corner_velocity: 5.0  # Square corner speed

[virtual_sdcard]
path: ~/printer_data/gcodes


# Core Includes
#----------------------------

[include core/axes.cfg]
#[include core/sensorless.cfg]
[include core/fans.cfg]
[include core/extruder.cfg]
[include core/temperatures.cfg]
[include core/bed.cfg]
[include core/bed_calibration.cfg]
[include tuning/tuning.cfg]
[include core/leds.cfg]



# Macros
#----------------------------
[include macros/print_start.cfg]
[include macros/print_end.cfg]
[include macros/pause_resume_cancel.cfg]
[include macros/update_git.cfg]
[include macros/safe_z_home.cfg]
[include macros/nozzle_wipe.cfg]
[exclude_object]

# Cartographer
#----------------------------
[mcu scanner]
canbus_uuid: 1454d81acbfc

[scanner]
mcu: scanner            
x_offset: 0                          
y_offset: 28                         
backlash_comp: 0.02580
sensor: cartographer
sensor_alt: carto
mesh_runs: 2


[adxl345]
cs_pin: scanner:PA3
spi_bus: spi1
axes_map: x, -y, z

[resonance_tester]
accel_chip: adxl345
probe_points: 90, 90, 20


[shaketune]
# result_folder: ~/printer_data/config/ShakeTune_results
#    Path where the processed results will be stored. If the folder doesn't exist,
#    it will be automatically created. You can change this if you'd like to store 
#    results in a different location.
# number_of_results_to_keep: 10
#    This setting defines how many results you want to keep in the result folder.
#    Once the specified number is exceeded, older results will be automatically deleted
#    to free up space on the SD card and avoid cluttering the results folder.
# keep_raw_data: False
#    If set to True, Shake&Tune will store both the processed graphs and the raw accelerometer
#    .stdata files in the results folder. This can be useful for debugging or archiving purposes.
#    Please always attach them when reporting any issues on GitHub or Discord.
# show_macros_in_webui: True
#    Mainsail and Fluidd doesn't create buttons for system commands (macros that are not part
#    of the printer.cfg file). This option allow Shake&Tune to inject them into the webui at runtime.
#    If set to False, the macros will be hidden but still accessible from the console by typing
#    their names manually, which can be useful if you prefer to encapsulate them into your own macros.
# timeout: 600
#    This defines the maximum processing time (in seconds) to allows to Shake&Tune for generating 
#    graphs from a .stdata file. 10 minutes should be more than enough in most cases, but if you have
#    slower hardware (e.g., older SD cards or low-performance devices), increase it to prevent timeouts.
# measurements_chunk_size: 2
#    Each Shake&Tune command uses the accelerometer to take multiple measurements. By default,
#    Shake&Tune will write a chunk of data to disk every two measurements, and at the end of the
#    command will merge these chunks into the final .stdata file for processing. "2" is a very
#    conservative setting to avoid Klipper Timer Too Close errors on lower end devices with little
#    RAM, and should work for everyone. However, if you are using a powerful computer, you may
#    wish to increase this value to keep more measurements in memory (e.g., 15-20) before writing
#    the chunk and avoid stressing the filesystem too much.
# max_freq: 200
#    This setting defines the maximum frequency at which the calculation of the power spectral density
#    is cutoff. The default value should be fine for most machines and accelerometer combinations and
#    avoid touching it unless you know what you're doing.
# dpi: 300
#    Controls the resolution of the generated graphs. The default value of 300 dpi was optimized
#    and strikes a balance between performance and readability, ensuring that graphs are clear
#    without using too much RAM to generate them. Usually, you shouldn't need to change this value.
#--------------------------------------------------------------------

#*# <---------------------- SAVE_CONFIG ---------------------->
#*# DO NOT EDIT THIS BLOCK OR BELOW. The contents are auto-generated.
#*#
#*# [scanner]
#*# mode = touch
#*# scanner_touch_threshold = 2000
#*# scanner_touch_speed = 3
#*# scanner_touch_z_offset = 0.140
#*#
#*# [scanner model default]
#*# model_coef = 1.366837000277175,
#*# 	1.7964818282475898,
#*# 	0.73253976457674,
#*# 	0.1907619231019665,
#*# 	0.5032513823347199,
#*# 	1.0100049861263716,
#*# 	-0.47466633667023334,
#*# 	-1.2106157987938648,
#*# 	0.4208351541983556,
#*# 	0.6637872912536339
#*# model_domain = 3.176064394496272e-07,3.3305732219480235e-07
#*# model_range = 0.100000,5.000000
#*# model_temp = 29.964272
#*# model_offset = 0.00000
#*# model_mode = touch
#*# model_fw_version = CARTOGRAPHER 5.1.0
#*#
#*# [heater_bed]
#*# control = pid
#*# pid_kp = 32.723
#*# pid_ki = 1.774
#*# pid_kd = 150.933
#*#
#*# [extruder]
#*# control = pid
#*# pid_kp = 23.087
#*# pid_ki = 2.565
#*# pid_kd = 51.944
#*#
#*# [bed_mesh default]
#*# version = 1
#*# points =
#*# 	  -0.135244, -0.111155, -0.085762, -0.070947, -0.063707, -0.064539, -0.064553, -0.062149, -0.064908, -0.066385, -0.063440, -0.063112, -0.063186, -0.066309, -0.067694, -0.067670, -0.065725, -0.061600, -0.062901, -0.160063
#*# 	  -0.117216, -0.098046, -0.072920, -0.057909, -0.050910, -0.051427, -0.054130, -0.055191, -0.057258, -0.056020, -0.053143, -0.053105, -0.055926, -0.058692, -0.058251, -0.056805, -0.053925, -0.049361, -0.049327, -0.140748
#*# 	  -0.101600, -0.083094, -0.059833, -0.040753, -0.033832, -0.036580, -0.040239, -0.040620, -0.042489, -0.043110, -0.042083, -0.043194, -0.044180, -0.046381, -0.047932, -0.047603, -0.044729, -0.038506, -0.037125, -0.123680
#*# 	  -0.090201, -0.073554, -0.048554, -0.033287, -0.026897, -0.027359, -0.029602, -0.031911, -0.036625, -0.037945, -0.035499, -0.034232, -0.036224, -0.039353, -0.040220, -0.038559, -0.037084, -0.030838, -0.028966, -0.110477
#*# 	  -0.080447, -0.060647, -0.038562, -0.022307, -0.017078, -0.018881, -0.021483, -0.023962, -0.028573, -0.029670, -0.028821, -0.026981, -0.027798, -0.030513, -0.029248, -0.028838, -0.027994, -0.023407, -0.021400, -0.098493
#*# 	  -0.071582, -0.054972, -0.030226, -0.014834, -0.011060, -0.013283, -0.014903, -0.016260, -0.022891, -0.024103, -0.022987, -0.020834, -0.021550, -0.024775, -0.024531, -0.024888, -0.022042, -0.016339, -0.015449, -0.091334
#*# 	  -0.064730, -0.046641, -0.024041, -0.007010, -0.002296, -0.003274, -0.008095, -0.010810, -0.013862, -0.014887, -0.012970, -0.013368, -0.015446, -0.017559, -0.016635, -0.015824, -0.014329, -0.009144, -0.007206, -0.075837
#*# 	  -0.060608, -0.043172, -0.019222, -0.003293, 0.002842, 0.002112, -0.001703, -0.005706, -0.007789, -0.008336, -0.008285, -0.007847, -0.008759, -0.011853, -0.011292, -0.012586, -0.010831, -0.006210, -0.003045, -0.069890
#*# 	  -0.054552, -0.038088, -0.012771, 0.003659, 0.008267, 0.006942, 0.003121, -0.000731, -0.002967, -0.002014, -0.000010, -0.000053, -0.003462, -0.006633, -0.007563, -0.006349, -0.005064, -0.001810, 0.000378, -0.062672
#*# 	  -0.051647, -0.033638, -0.009423, 0.005556, 0.009808, 0.009656, 0.007900, 0.004389, 0.000532, 0.002357, 0.004194, 0.005405, 0.003017, -0.000157, -0.001236, -0.003781, -0.002285, 0.003968, 0.006975, -0.053861
#*# 	  -0.042912, -0.028601, -0.006626, 0.011558, 0.016965, 0.014575, 0.011482, 0.007754, 0.006550, 0.007973, 0.008767, 0.011476, 0.008818, 0.004703, 0.001856, 0.000650, 0.003058, 0.008435, 0.009280, -0.047021
#*# 	  -0.041510, -0.024341, 0.000713, 0.015388, 0.021233, 0.021285, 0.019309, 0.015349, 0.013732, 0.015552, 0.017300, 0.018199, 0.015516, 0.011974, 0.009505, 0.008272, 0.011776, 0.015633, 0.018714, -0.040160
#*# 	  -0.032875, -0.018516, 0.004172, 0.022073, 0.028806, 0.027587, 0.025754, 0.021482, 0.021064, 0.022939, 0.025801, 0.025920, 0.021476, 0.017775, 0.016044, 0.015073, 0.019201, 0.022818, 0.022205, -0.032848
#*# 	  -0.030680, -0.014472, 0.009550, 0.027128, 0.033572, 0.032390, 0.031780, 0.029501, 0.029037, 0.030857, 0.035057, 0.035201, 0.029732, 0.023141, 0.021175, 0.022858, 0.026735, 0.027401, 0.028474, -0.027849
#*# 	  -0.021872, -0.007832, 0.011009, 0.029005, 0.037761, 0.037479, 0.037018, 0.034400, 0.036363, 0.041282, 0.047141, 0.045071, 0.038192, 0.030486, 0.025772, 0.026405, 0.028437, 0.030632, 0.028492, -0.021091
#*# 	  -0.021086, -0.007336, 0.015630, 0.032441, 0.039581, 0.041245, 0.039191, 0.039368, 0.044933, 0.052354, 0.058161, 0.056302, 0.045779, 0.037325, 0.033048, 0.029828, 0.031788, 0.032504, 0.032093, -0.020416
#*# 	  -0.018008, -0.001655, 0.020062, 0.037143, 0.043001, 0.042848, 0.043275, 0.045502, 0.049601, 0.056937, 0.064343, 0.063169, 0.052212, 0.042924, 0.037915, 0.033526, 0.032163, 0.032670, 0.031571, -0.012444
#*# 	  -0.015620, -0.000804, 0.022757, 0.041103, 0.049300, 0.048888, 0.047255, 0.050178, 0.053799, 0.058835, 0.064365, 0.063381, 0.055575, 0.048630, 0.043821, 0.039233, 0.037103, 0.036656, 0.039048, -0.005555
#*# 	  -0.023679, -0.012699, 0.011228, 0.032929, 0.041812, 0.041534, 0.038684, 0.042355, 0.045989, 0.048383, 0.050060, 0.049146, 0.043861, 0.041004, 0.032324, 0.029223, 0.024990, 0.027922, 0.029000, -0.003622
#*# 	  -0.300264, -0.239054, -0.218353, -0.257902, -0.280187, -0.288546, -0.302612, -0.306774, -0.310805, -0.315023, -0.324777, -0.335524, -0.345616, -0.325266, -0.281345, -0.277661, -0.350104, -0.392123, -0.403913, -0.432743
#*# x_count = 20
#*# y_count = 20
#*# mesh_x_pps = 2
#*# mesh_y_pps = 2
#*# algo = bicubic
#*# tension = 0.2
#*# min_x = 30.0
#*# max_x = 175.0
#*# min_y = 30.0
#*# max_y = 175.0
