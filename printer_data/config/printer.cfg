
[include fluidd.cfg]
#[include mainsail.cfg]

[mcu]
canbus_uuid: 957a7862b4ec
canbus_interface:can0

[mcu EBBCan]
#canbus_uuid: 3ccab897b448 
canbus_uuid: 163f88a79553

[printer]
kinematics: corexy           # Printer typeï¼šcorexy
max_velocity: 300            # Maximum speed (max. 300)
max_accel: 5000              # Maximum acceleration (max. 4000)
#max_accel_to_decel: 5000    # Maximum acceleration to deceleration (max. 4000) Deprecated
minimum_cruise_ratio: .5     # New parameter
max_z_velocity: 15           # Z-axis maximum speed
max_z_accel: 350             # Z-axis maximum acceleration
square_corner_velocity: 5.0  # Square corner speed

[virtual_sdcard]
path: ~/printer_data/gcodes


# Core Includes
#----------------------------

[include core/axes.cfg]
#[include core/sensorless.cfg]
[include core/fans.cfg]
[include core/extruder.cfg]
[include core/temperatures.cfg]
[include core/bed.cfg]
[include core/bed_calibration.cfg]
[include tuning/tuning.cfg]
[include core/leds.cfg]



# Macros
#----------------------------
[include macros/print_start.cfg]
[include macros/print_end.cfg]
[include macros/pause_resume_cancel.cfg]
[include macros/update_git.cfg]
[include macros/safe_z_home.cfg]
[include macros/nozzle_wipe.cfg]
[exclude_object]

# Cartographer
#----------------------------
[mcu scanner]
canbus_uuid: 1454d81acbfc

[scanner]
mcu: scanner            
x_offset: 0                          
y_offset: 28                         
backlash_comp: 0.02580
sensor: cartographer
sensor_alt: carto
mesh_runs: 2


[adxl345]
cs_pin: scanner:PA3
spi_bus: spi1
axes_map: x, -y, z

[resonance_tester]
accel_chip: adxl345
probe_points: 90, 90, 20


[shaketune]
# result_folder: ~/printer_data/config/ShakeTune_results
#    Path where the processed results will be stored. If the folder doesn't exist,
#    it will be automatically created. You can change this if you'd like to store 
#    results in a different location.
# number_of_results_to_keep: 10
#    This setting defines how many results you want to keep in the result folder.
#    Once the specified number is exceeded, older results will be automatically deleted
#    to free up space on the SD card and avoid cluttering the results folder.
# keep_raw_data: False
#    If set to True, Shake&Tune will store both the processed graphs and the raw accelerometer
#    .stdata files in the results folder. This can be useful for debugging or archiving purposes.
#    Please always attach them when reporting any issues on GitHub or Discord.
# show_macros_in_webui: True
#    Mainsail and Fluidd doesn't create buttons for system commands (macros that are not part
#    of the printer.cfg file). This option allow Shake&Tune to inject them into the webui at runtime.
#    If set to False, the macros will be hidden but still accessible from the console by typing
#    their names manually, which can be useful if you prefer to encapsulate them into your own macros.
# timeout: 600
#    This defines the maximum processing time (in seconds) to allows to Shake&Tune for generating 
#    graphs from a .stdata file. 10 minutes should be more than enough in most cases, but if you have
#    slower hardware (e.g., older SD cards or low-performance devices), increase it to prevent timeouts.
# measurements_chunk_size: 2
#    Each Shake&Tune command uses the accelerometer to take multiple measurements. By default,
#    Shake&Tune will write a chunk of data to disk every two measurements, and at the end of the
#    command will merge these chunks into the final .stdata file for processing. "2" is a very
#    conservative setting to avoid Klipper Timer Too Close errors on lower end devices with little
#    RAM, and should work for everyone. However, if you are using a powerful computer, you may
#    wish to increase this value to keep more measurements in memory (e.g., 15-20) before writing
#    the chunk and avoid stressing the filesystem too much.
# max_freq: 200
#    This setting defines the maximum frequency at which the calculation of the power spectral density
#    is cutoff. The default value should be fine for most machines and accelerometer combinations and
#    avoid touching it unless you know what you're doing.
# dpi: 300
#    Controls the resolution of the generated graphs. The default value of 300 dpi was optimized
#    and strikes a balance between performance and readability, ensuring that graphs are clear
#    without using too much RAM to generate them. Usually, you shouldn't need to change this value.
#--------------------------------------------------------------------

#*# <---------------------- SAVE_CONFIG ---------------------->
#*# DO NOT EDIT THIS BLOCK OR BELOW. The contents are auto-generated.
#*#
#*# [scanner]
#*# mode = touch
#*# scanner_touch_threshold = 2250
#*# scanner_touch_speed = 3
#*# scanner_touch_z_offset = 0.015
#*#
#*# [scanner model default]
#*# model_coef = 1.366837000277175,
#*# 	1.7964818282475898,
#*# 	0.73253976457674,
#*# 	0.1907619231019665,
#*# 	0.5032513823347199,
#*# 	1.0100049861263716,
#*# 	-0.47466633667023334,
#*# 	-1.2106157987938648,
#*# 	0.4208351541983556,
#*# 	0.6637872912536339
#*# model_domain = 3.176064394496272e-07,3.3305732219480235e-07
#*# model_range = 0.100000,5.000000
#*# model_temp = 29.964272
#*# model_offset = 0.00000
#*# model_mode = touch
#*# model_fw_version = CARTOGRAPHER 5.1.0
#*#
#*# [heater_bed]
#*# control = pid
#*# pid_kp = 32.723
#*# pid_ki = 1.774
#*# pid_kd = 150.933
#*#
#*# [extruder]
#*# control = pid
#*# pid_kp = 23.087
#*# pid_ki = 2.565
#*# pid_kd = 51.944
#*#
#*# [bed_mesh default]
#*# version = 1
#*# points =
#*# 	  -0.112446, -0.093585, -0.070483, -0.056734, -0.052750, -0.054560, -0.056281, -0.056102, -0.059917, -0.063173, -0.060639, -0.061084, -0.063619, -0.067510, -0.070477, -0.071234, -0.068890, -0.063733, -0.064482, -0.183079
#*# 	  -0.100861, -0.080932, -0.059758, -0.045977, -0.043129, -0.043477, -0.046632, -0.049517, -0.053810, -0.054349, -0.051865, -0.052758, -0.057559, -0.062355, -0.063778, -0.063630, -0.061929, -0.057053, -0.059074, -0.176483
#*# 	  -0.091941, -0.072713, -0.051487, -0.035343, -0.031682, -0.037574, -0.039999, -0.041957, -0.045908, -0.048363, -0.047134, -0.049450, -0.052218, -0.056384, -0.059666, -0.060326, -0.058341, -0.052631, -0.053832, -0.173418
#*# 	  -0.078231, -0.058548, -0.037208, -0.025163, -0.021531, -0.027903, -0.028762, -0.032560, -0.039195, -0.041726, -0.040563, -0.040715, -0.044064, -0.049982, -0.053233, -0.053085, -0.050840, -0.047189, -0.048748, -0.166162
#*# 	  -0.066434, -0.048173, -0.026461, -0.014727, -0.012452, -0.016921, -0.021595, -0.026216, -0.032628, -0.035315, -0.034028, -0.034389, -0.037446, -0.042610, -0.044193, -0.043872, -0.044823, -0.041191, -0.043262, -0.162156
#*# 	  -0.056860, -0.036521, -0.016900, -0.004164, -0.005049, -0.009020, -0.014003, -0.018530, -0.025320, -0.027653, -0.026902, -0.027577, -0.029948, -0.036553, -0.038687, -0.040202, -0.038179, -0.035392, -0.038184, -0.157372
#*# 	  -0.047485, -0.029665, -0.009663, 0.003506, 0.004518, 0.000769, -0.006691, -0.009241, -0.016010, -0.018374, -0.017287, -0.019218, -0.023520, -0.029768, -0.031699, -0.033303, -0.032198, -0.029338, -0.034548, -0.153273
#*# 	  -0.041072, -0.021179, 0.000061, 0.013085, 0.015201, 0.010744, 0.004137, -0.000879, -0.007464, -0.009386, -0.010360, -0.012642, -0.016458, -0.023041, -0.024708, -0.027076, -0.027115, -0.025135, -0.027852, -0.147190
#*# 	  -0.031490, -0.015770, 0.006478, 0.020144, 0.021856, 0.017019, 0.011658, 0.007112, 0.000739, -0.001581, -0.001357, -0.004255, -0.009758, -0.016976, -0.019696, -0.021762, -0.024195, -0.020817, -0.025925, -0.147752
#*# 	  -0.026701, -0.006448, 0.014610, 0.027061, 0.027063, 0.022910, 0.016994, 0.012968, 0.007503, 0.006574, 0.006177, 0.004034, -0.003476, -0.010720, -0.013432, -0.017820, -0.019395, -0.016009, -0.019758, -0.141793
#*# 	  -0.014053, 0.000576, 0.021067, 0.033718, 0.033552, 0.029752, 0.023443, 0.017171, 0.013319, 0.012555, 0.010510, 0.009114, 0.002461, -0.005141, -0.011513, -0.015226, -0.016200, -0.011274, -0.018132, -0.141577
#*# 	  -0.011339, 0.007139, 0.028618, 0.040164, 0.040980, 0.035087, 0.029534, 0.024195, 0.019498, 0.018913, 0.016966, 0.014245, 0.007223, -0.002116, -0.006533, -0.010478, -0.009434, -0.009330, -0.013521, -0.137036
#*# 	  -0.000014, 0.013923, 0.034077, 0.046281, 0.047244, 0.041712, 0.036742, 0.030005, 0.026264, 0.023466, 0.023585, 0.020542, 0.011249, 0.002786, -0.002872, -0.006654, -0.006133, -0.005991, -0.013586, -0.140610
#*# 	  0.004176, 0.020198, 0.039779, 0.050526, 0.053673, 0.046646, 0.041923, 0.036097, 0.032772, 0.032302, 0.031570, 0.027730, 0.016706, 0.005894, 0.000944, -0.001162, -0.000823, -0.004071, -0.011093, -0.141207
#*# 	  0.012891, 0.025355, 0.042682, 0.054626, 0.055944, 0.049607, 0.045937, 0.040397, 0.038144, 0.039771, 0.041255, 0.036438, 0.023399, 0.011611, 0.004142, 0.000249, -0.000279, -0.002985, -0.011949, -0.142880
#*# 	  0.014655, 0.030131, 0.047701, 0.057718, 0.058274, 0.053283, 0.049178, 0.045850, 0.045987, 0.049081, 0.052415, 0.044581, 0.029581, 0.016720, 0.009269, 0.002489, 0.002287, -0.000961, -0.010488, -0.144261
#*# 	  0.021313, 0.035688, 0.053458, 0.065000, 0.063392, 0.055279, 0.052238, 0.051588, 0.052210, 0.055460, 0.056563, 0.051125, 0.035306, 0.022315, 0.012726, 0.004828, 0.000068, -0.001248, -0.011669, -0.146195
#*# 	  0.023133, 0.039111, 0.057841, 0.070136, 0.068610, 0.061969, 0.057175, 0.057924, 0.057326, 0.057247, 0.059091, 0.051422, 0.037806, 0.025226, 0.015630, 0.008813, 0.003015, 0.000343, -0.006328, -0.139565
#*# 	  0.013531, 0.024426, 0.042834, 0.058240, 0.058660, 0.053141, 0.046262, 0.047414, 0.047428, 0.046811, 0.044024, 0.036619, 0.025151, 0.017789, 0.005066, -0.001475, -0.007261, -0.006236, -0.012616, -0.135225
#*# 	  -0.377020, -0.288512, -0.262882, -0.301502, -0.322071, -0.320772, -0.322437, -0.313229, -0.306460, -0.298192, -0.295703, -0.297165, -0.297295, -0.270386, -0.225813, -0.215914, -0.263256, -0.281761, -0.277308, -0.341329
#*# x_count = 20
#*# y_count = 20
#*# mesh_x_pps = 2
#*# mesh_y_pps = 2
#*# algo = bicubic
#*# tension = 0.2
#*# min_x = 30.0
#*# max_x = 175.0
#*# min_y = 30.0
#*# max_y = 175.0
