
[include fluidd.cfg]
#[include mainsail.cfg]

[mcu]
canbus_uuid: 957a7862b4ec
canbus_interface:can0

[mcu EBBCan]
#canbus_uuid: 3ccab897b448 
canbus_uuid: 163f88a79553

[printer]
kinematics: corexy           # Printer typeï¼šcorexy
max_velocity: 300            # Maximum speed (max. 300)
max_accel: 5000              # Maximum acceleration (max. 4000)
#max_accel_to_decel: 5000    # Maximum acceleration to deceleration (max. 4000) Deprecated
minimum_cruise_ratio: .5     # New parameter
max_z_velocity: 15           # Z-axis maximum speed
max_z_accel: 350             # Z-axis maximum acceleration
square_corner_velocity: 5.0  # Square corner speed

[virtual_sdcard]
path: ~/printer_data/gcodes


# Core Includes
#----------------------------

[include core/axes.cfg]
#[include core/sensorless.cfg]
[include core/fans.cfg]
[include core/extruder.cfg]
[include core/temperatures.cfg]
[include core/bed.cfg]
[include core/bed_calibration.cfg]
[include tuning/tuning.cfg]
[include core/leds.cfg]



# Macros
#----------------------------
[include macros/print_start.cfg]
[include macros/print_end.cfg]
[include macros/pause_resume_cancel.cfg]
[include macros/update_git.cfg]
[include macros/safe_z_home.cfg]
[include macros/nozzle_wipe.cfg]
[exclude_object]

# Cartographer
#----------------------------
[mcu scanner]
canbus_uuid: 1454d81acbfc

[scanner]
mcu: scanner            
x_offset: 0                          
y_offset: 28                         
backlash_comp: 0.01520
sensor: cartographer
sensor_alt: carto
mesh_runs: 2


[adxl345]
cs_pin: scanner:PA3
spi_bus: spi1
axes_map: x, -y, z

[resonance_tester]
accel_chip: adxl345
probe_points: 90, 90, 20


[shaketune]
# result_folder: ~/printer_data/config/ShakeTune_results
#    Path where the processed results will be stored. If the folder doesn't exist,
#    it will be automatically created. You can change this if you'd like to store 
#    results in a different location.
# number_of_results_to_keep: 10
#    This setting defines how many results you want to keep in the result folder.
#    Once the specified number is exceeded, older results will be automatically deleted
#    to free up space on the SD card and avoid cluttering the results folder.
# keep_raw_data: False
#    If set to True, Shake&Tune will store both the processed graphs and the raw accelerometer
#    .stdata files in the results folder. This can be useful for debugging or archiving purposes.
#    Please always attach them when reporting any issues on GitHub or Discord.
# show_macros_in_webui: True
#    Mainsail and Fluidd doesn't create buttons for system commands (macros that are not part
#    of the printer.cfg file). This option allow Shake&Tune to inject them into the webui at runtime.
#    If set to False, the macros will be hidden but still accessible from the console by typing
#    their names manually, which can be useful if you prefer to encapsulate them into your own macros.
# timeout: 600
#    This defines the maximum processing time (in seconds) to allows to Shake&Tune for generating 
#    graphs from a .stdata file. 10 minutes should be more than enough in most cases, but if you have
#    slower hardware (e.g., older SD cards or low-performance devices), increase it to prevent timeouts.
# measurements_chunk_size: 2
#    Each Shake&Tune command uses the accelerometer to take multiple measurements. By default,
#    Shake&Tune will write a chunk of data to disk every two measurements, and at the end of the
#    command will merge these chunks into the final .stdata file for processing. "2" is a very
#    conservative setting to avoid Klipper Timer Too Close errors on lower end devices with little
#    RAM, and should work for everyone. However, if you are using a powerful computer, you may
#    wish to increase this value to keep more measurements in memory (e.g., 15-20) before writing
#    the chunk and avoid stressing the filesystem too much.
# max_freq: 200
#    This setting defines the maximum frequency at which the calculation of the power spectral density
#    is cutoff. The default value should be fine for most machines and accelerometer combinations and
#    avoid touching it unless you know what you're doing.
# dpi: 300
#    Controls the resolution of the generated graphs. The default value of 300 dpi was optimized
#    and strikes a balance between performance and readability, ensuring that graphs are clear
#    without using too much RAM to generate them. Usually, you shouldn't need to change this value.
#--------------------------------------------------------------------

#*# <---------------------- SAVE_CONFIG ---------------------->
#*# DO NOT EDIT THIS BLOCK OR BELOW. The contents are auto-generated.
#*#
#*# [scanner]
#*# mode = touch
#*# scanner_touch_threshold = 2000
#*# scanner_touch_speed = 3
#*# scanner_touch_z_offset = 0.140
#*#
#*# [scanner model default]
#*# model_coef = 1.366837000277175,
#*# 	  1.7964818282475898,
#*# 	  0.73253976457674,
#*# 	  0.1907619231019665,
#*# 	  0.5032513823347199,
#*# 	  1.0100049861263716,
#*# 	  -0.47466633667023334,
#*# 	  -1.2106157987938648,
#*# 	  0.4208351541983556,
#*# 	  0.6637872912536339
#*# model_domain = 3.176064394496272e-07,3.3305732219480235e-07
#*# model_range = 0.100000,5.000000
#*# model_temp = 29.964272
#*# model_offset = 0.00000
#*# model_mode = touch
#*# model_fw_version = CARTOGRAPHER 5.1.0
#*#
#*# [heater_bed]
#*# control = pid
#*# pid_kp = 32.723
#*# pid_ki = 1.774
#*# pid_kd = 150.933
#*#
#*# [extruder]
#*# control = pid
#*# pid_kp = 23.087
#*# pid_ki = 2.565
#*# pid_kd = 51.944
#*#
#*# [bed_mesh default]
#*# version = 1
#*# points =
#*# 	-0.454836, -0.433981, -0.411416, -0.394060, -0.384378, -0.384982, -0.387131, -0.392170, -0.395692, -0.399662, -0.402381, -0.403499, -0.407921, -0.415420, -0.419687, -0.424201, -0.427818, -0.428794, -0.430939, -0.468001
#*# 	-0.382256, -0.369392, -0.348292, -0.330441, -0.322562, -0.325253, -0.330690, -0.336094, -0.339270, -0.345644, -0.349217, -0.352354, -0.356528, -0.364151, -0.370148, -0.375912, -0.379331, -0.379619, -0.382044, -0.418257
#*# 	-0.319530, -0.308394, -0.288021, -0.274144, -0.266237, -0.268357, -0.274630, -0.280730, -0.286079, -0.293535, -0.297146, -0.300625, -0.307017, -0.316004, -0.322529, -0.328620, -0.332172, -0.333836, -0.336410, -0.372791
#*# 	-0.260357, -0.250430, -0.230968, -0.215822, -0.211129, -0.215445, -0.221843, -0.229011, -0.235890, -0.244754, -0.250560, -0.253468, -0.260454, -0.268496, -0.274390, -0.282277, -0.286625, -0.288298, -0.293688, -0.326577
#*# 	-0.204341, -0.193051, -0.174864, -0.161284, -0.157577, -0.163755, -0.170864, -0.178121, -0.185944, -0.197017, -0.202932, -0.206803, -0.213929, -0.223940, -0.232232, -0.238662, -0.243625, -0.247656, -0.251895, -0.286271
#*# 	-0.151179, -0.140295, -0.122337, -0.110221, -0.106339, -0.110981, -0.120314, -0.130291, -0.138846, -0.148728, -0.154679, -0.160025, -0.170160, -0.179580, -0.187982, -0.195877, -0.200651, -0.205889, -0.210931, -0.246769
#*# 	-0.098175, -0.088921, -0.072043, -0.059055, -0.054420, -0.060057, -0.070185, -0.081660, -0.091143, -0.100499, -0.108344, -0.115340, -0.123857, -0.134306, -0.144640, -0.153627, -0.159862, -0.164515, -0.170381, -0.205758
#*# 	-0.044960, -0.038856, -0.022062, -0.009919, -0.006697, -0.012500, -0.022587, -0.035270, -0.046034, -0.055174, -0.063267, -0.068885, -0.081026, -0.093696, -0.104411, -0.110718, -0.118846, -0.126877, -0.134030, -0.167434
#*# 	0.005959, 0.012415, 0.028489, 0.038104, 0.041503, 0.033650, 0.024103, 0.011516, 0.000162, -0.009667, -0.017433, -0.025590, -0.035382, -0.049150, -0.060469, -0.071360, -0.079989, -0.087744, -0.093563, -0.125732
#*# 	0.057488, 0.063086, 0.077331, 0.087413, 0.089584, 0.079791, 0.068237, 0.056597, 0.044357, 0.034914, 0.026096, 0.018691, 0.007961, -0.007305, -0.021335, -0.032048, -0.040826, -0.047868, -0.055386, -0.093450
#*# 	0.108793, 0.111994, 0.126583, 0.134865, 0.137485, 0.126846, 0.114311, 0.100691, 0.088740, 0.078154, 0.069865, 0.061322, 0.049548, 0.034365, 0.020852, 0.008491, -0.001608, -0.010616, -0.017561, -0.051238
#*# 	0.156142, 0.161602, 0.171663, 0.181188, 0.182790, 0.173317, 0.158932, 0.144452, 0.132097, 0.122371, 0.113666, 0.103426, 0.091949, 0.075408, 0.059191, 0.046804, 0.036547, 0.029537, 0.020782, -0.017791
#*# 	0.209289, 0.209074, 0.221865, 0.230257, 0.231233, 0.220792, 0.206347, 0.191839, 0.179591, 0.168104, 0.159750, 0.149972, 0.135251, 0.116315, 0.102469, 0.088018, 0.078007, 0.067469, 0.056963, 0.022898
#*# 	0.254670, 0.258575, 0.268341, 0.274582, 0.274161, 0.264787, 0.249781, 0.235277, 0.221496, 0.212481, 0.205523, 0.196829, 0.178573, 0.158712, 0.141370, 0.125547, 0.115038, 0.104075, 0.091236, 0.053971
#*# 	0.303737, 0.303705, 0.312224, 0.317323, 0.317818, 0.306323, 0.292044, 0.277176, 0.267246, 0.257432, 0.252123, 0.241834, 0.224624, 0.201997, 0.180780, 0.162239, 0.151018, 0.138889, 0.124710, 0.085818
#*# 	0.346588, 0.347556, 0.358072, 0.363748, 0.361216, 0.346705, 0.332270, 0.319428, 0.308938, 0.300307, 0.294635, 0.286733, 0.266391, 0.241756, 0.219292, 0.200871, 0.184939, 0.171047, 0.156706, 0.118075
#*# 	0.392402, 0.392218, 0.401456, 0.407135, 0.405786, 0.390943, 0.373352, 0.360629, 0.350310, 0.339602, 0.334794, 0.322408, 0.303861, 0.278524, 0.258767, 0.237017, 0.221146, 0.204554, 0.191721, 0.153976
#*# 	0.432296, 0.432607, 0.440355, 0.444503, 0.446220, 0.430228, 0.411736, 0.397472, 0.387107, 0.375720, 0.365098, 0.355247, 0.335383, 0.311557, 0.290207, 0.270169, 0.250881, 0.236049, 0.223294, 0.189861
#*# 	0.397579, 0.407241, 0.426414, 0.421018, 0.418794, 0.397427, 0.379820, 0.363875, 0.353993, 0.340616, 0.330732, 0.316018, 0.300527, 0.274695, 0.265193, 0.252450, 0.229064, 0.208981, 0.199135, 0.175591
#*# 	-1.683129, -1.233717, -0.733369, -0.968788, -1.434564, -1.552243, -1.570373, -1.574945, -1.570548, -1.567320, -1.547725, -1.538515, -1.531830, -1.507700, -1.238426, -0.817442, -0.932595, -1.390460, -1.524038, -1.529285
#*# x_count = 20
#*# y_count = 20
#*# mesh_x_pps = 2
#*# mesh_y_pps = 2
#*# algo = bicubic
#*# tension = 0.2
#*# min_x = 30.0
#*# max_x = 175.0
#*# min_y = 30.0
#*# max_y = 175.0
